# –û—Ü–µ–Ω–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ LLM (Prompt Evaluation)

## –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ LLM-–æ—Ü–µ–Ω–∫–∞?

–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ LLM ‚Äî –∫–ª—é—á–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –≤:

- CI/CD-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –¥–ª—è LLM-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–ª–∏ –º–æ–¥–µ–ª–µ–π
- –∑–∞—â–∏—Ç–µ –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–π
- red teaming –∏ robustness-–ø—Ä–æ–≤–µ—Ä–∫–∞—Ö

–û–±—ã—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (BLEU, ROUGE) –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ ‚Äî —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **LLM-as-a-judge**, **assertions**, **—Å—Ä–∞–≤–Ω–µ–Ω–∏–π output'–æ–≤**, **score-—Ä–µ–π—Ç–∏–Ω–≥–æ–≤**.

---

## –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç       | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                             | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è          | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                 |
| ---------------- | -------------------------------------- | --------------------- | ----------------------------------------------------------- |
| **Promptfoo**    | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ LLM-–∞–ø–ø        | CI/CD, dev workflows  | YAML-—Ç–µ—Å—Ç—ã, CLI/GUI, –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫, –ª—é–±–∞—è –º–æ–¥–µ–ª—å         |
| **OpenAI Evals** | –ó–∞–ø—É—Å–∫ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö eval'–æ–≤ | OpenAI API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | LLM-as-a-judge, —à–∞–±–ª–æ–Ω—ã eval‚Äô–æ–≤, —Ç–µ—Å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI |

---

## 1. Promptfoo

**–ß—Ç–æ —ç—Ç–æ:** open-source CLI/–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ LLM-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–§–∏—á–∏:**

- –¢–µ—Å—Ç–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã: prompt √ó –º–æ–¥–µ–ª—å √ó –≤–∞—Ä–∏–∞–Ω—Ç
- YAML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `assert:` —É—Å–ª–æ–≤–∏–π (–æ–∂–∏–¥–∞–µ–º–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –¥–ª–∏–Ω–∞, —Ä–µ–≥—É–ª—è—Ä–∫–∏)
- `Red teaming`-—Ç–µ—Å—Ç—ã: –≤–≤–æ–¥ —à—É–º–æ–≤, –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–π, jailbreak-–ø–æ–¥–æ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π: OpenAI, Claude, LLaMA, local
- –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–µ–≥–æ API)
- –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ—Ä—Ç –∏–ª–∏ CLI-–æ—Ç—á—ë—Ç

**–ü—Ä–∏–º–µ—Ä YAML:**

```yaml
prompts:
  - name: question_answering
    prompt: "–í–æ–ø—Ä–æ—Å: {{question}} –û—Ç–≤–µ—Ç:"
    vars:
      - question: "–°–∫–æ–ª—å–∫–æ –Ω–æ–≥ —É –ø–∞—É–∫–∞?"
        expected: "8"
assertions:
  - type: contains
    value: "8"
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –≤ CI-–ø–∞–π–ø–ª–∞–π–Ω–∞—Ö, A/B —Ç–µ—Å—Ç–∞—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, regression-–∑–∞—â–∏—Ç–∞—Ö.

üìé [promptfoo.dev](https://promptfoo.dev)  |  [github.com/promptfoo](https://github.com/promptfoo/promptfoo)

---

## 2. OpenAI Evals

**–ß—Ç–æ —ç—Ç–æ:** —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –æ—Ç OpenAI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏ LLM-–ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –º–æ–¥–µ–ª–µ–π.

**–§–∏—á–∏:**

- –®–∞–±–ª–æ–Ω—ã evaluation'–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, qa, math, multi-turn)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ evaluators
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ self-graded outputs (–º–æ–¥–µ–ª—å —Å–∞–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–µ–±—è)
- `LLM-as-a-judge`: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö output‚Äô–æ–≤, –≤—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API
- –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –±–∞–∑–µ

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```python
class MyEval(Eval):
    def run(self, model: Model, test_case: Dict) -> EvalResult:
        result = model.generate(test_case["prompt"])
        score = 1 if "8" in result else 0
        return EvalResult(passed=score)
```

üìé [GitHub: openai/evals](https://github.com/openai/evals)

---

## –ú–µ—Ç–æ–¥—ã –æ—Ü–µ–Ω–∫–∏

- **LLM-as-a-judge**: –º–æ–¥–µ–ª—å —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –≤—ã–Ω–æ—Å–∏—Ç –æ—Ü–µ–Ω–∫—É (–Ω–∞–ø—Ä. "–∫—Ç–æ –¥–∞–ª –ª—É—á—à–∏–π –æ—Ç–≤–µ—Ç? –ø–æ—á–µ–º—É?")
- **Assert-based**: output –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —É—Å–ª–æ–≤–∏—è–º (–¥–ª–∏–Ω–∞, –Ω–∞–ª–∏—á–∏–µ —Ñ—Ä–∞–∑—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON)
- **Similarity-based**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º –ø–æ semsim (cosine), edit distance, etc
- **Manual review**: human-in-the-loop, –≤–∞–ª–∏–¥–∞—Ü–∏—è outputs –≤—Ä—É—á–Ω—É—é

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Prompt Engineering pipeline

1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ (—Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏)
2. –ó–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É / YAML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –ó–∞–ø—É—Å–∫ eval (Promptfoo / OpenEval)
4. –§–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (baseline)
5. –í–∫–ª—é—á–µ–Ω–∏–µ –≤ CI –∫–∞–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
6. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏ ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å baseline, fail on drop

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

|                  | Promptfoo             | OpenAI Evals         |
| ---------------- | --------------------- | -------------------- |
| –ú–æ–¥–µ–ª–∏           | –õ—é–±—ã–µ                 | –¢–æ–ª—å–∫–æ OpenAI        |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞      | CLI + YAML            | Python API           |
| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å        | CLI + Web             | CLI                  |
| Judge-–º–æ–¥–µ–ª—å     | –õ—é–±–∞—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è) | OpenAI               |
| –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ | ‚úÖ                     | ‚ùå (–Ω—É–∂–µ–Ω OpenAI API) |
| Red-teaming      | ‚úÖ                     | ‚ö†Ô∏è –≤—Ä—É—á–Ω—É—é           |

---

## –í—ã–≤–æ–¥—ã

- Prompt-evaluation ‚Äî –≤–∞–∂–Ω—ã–π —à–∞–≥ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å LLM
- Promptfoo —Ö–æ—Ä–æ—à –¥–ª—è –ª—é–±—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ CI/CD
- OpenAI Evals –ø–æ–¥—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å—Ç—Ä–æ–≥–æ —Å OpenAI API
- –õ—É—á—à–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å auto + manual + LLM-as-judge —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ê–≤—Ç–æ–æ—Ü–µ–Ω–∫–∞ ‚â† —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∏—Å—Ç–∏–Ω–∞, –Ω–æ —Å–∏–ª—å–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤

